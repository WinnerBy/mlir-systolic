# 2026-01-06 项目整理工作 - 文件索引

> 本索引汇总了 2026-01-06 日进行的项目整理和分析工作的所有生成文件。

---

## 📄 核心文档

### 1. [整理工作总结.md](整理工作总结.md) ⭐ **从这里开始**

**读者**: 所有人 (特别是项目经理、决策者)

**内容**:
- 执行摘要 (key findings)
- 4 份文档内容简介
- 整理成果总结
- Q&A (常见问题)
- 后续行动清单

**阅读时间**: 15-20 分钟

**用途**: 快速了解整理工作的全貌和后续建议

---

### 2. [PROJECT_ORGANIZATION_AND_ANALYSIS.md](PROJECT_ORGANIZATION_AND_ANALYSIS.md) ⭐ **架构和规划层**

**读者**: 架构师、项目负责人、高级开发者

**内容** (5 大部分):
1. **一、文档和测试文件整理方案**
   - 当前问题分析 (doc 混乱、文件杂乱)
   - 建议的整理方案 (第一到三阶段)
   - 具体的文件操作清单

2. **二、项目完成情况分析**
   - ✅ 已完成的工作详细列表
   - ⚠️ 存在的 5 大类问题
   - 代码质量评估表

3. **三、下一步工作规划**
   - 优先级排序 (P1/P2/P3)
   - 各工作项的目标和方案
   - 时间和工作量估算

4. **四、建议的实现路线图**
   - 短、中、长期规划 (1-2 月)

5. **五、关键建议和总结**
   - 文档、代码、测试的具体建议

**关键数据**:
- 文档问题: 20+ 个临时文件
- 代码问题: 5 大类，15+ 个具体硬编码位置
- 工作量: 2-3 月完成完整重构

**阅读时间**: 30-45 分钟

---

### 3. [CODE_ISSUES_DETAILED_ANALYSIS.md](CODE_ISSUES_DETAILED_ANALYSIS.md) ⭐ **代码层**

**读者**: 开发者、代码审查人、架构师

**内容** (5 大部分):
1. **一、主要设计问题**
   - 问题 1: Spacetime=3 硬编码
     - 具体代码位置和片段
     - 影响范围分析
     - 解决方案
   - 问题 2: Kernel 特异性
   - 问题 3: 配置流混乱

2. **二、具体实现缺陷**
   - 缺陷 1: 写时重排仅 3D
   - 缺陷 2: 依赖距离分析不完整
   - 缺陷 3: 循环体迁移缺失
   - 缺陷 4: 双缓冲逻辑缺失

3. **三、问题总结表**
   - 所有问题的严重性、影响范围、修复难度一览

4. **四、参数化重构方案**
   - Spacetime 参数化设计
   - Kernel 通用化设计
   - 配置管理改进

5. **附录: 代码审视清单**

**关键数据**:
- 硬编码位置: 4 个 Pass 中的多个地方
- P1 问题: 3 个 (Spacetime, Kernel, 循环体迁移)
- P2 问题: 4 个

**阅读时间**: 45-60 分钟

---

### 4. [NEXT_STEPS_TECHNICAL_ROADMAP.md](NEXT_STEPS_TECHNICAL_ROADMAP.md) ⭐ **实施规划层**

**读者**: 项目经理、开发经理、核心开发者

**内容** (7 大部分):
1. **一、整体路线图**
   - 时间线 (2026-01 到 2026-05)
   - 成功标准 (4 个里程碑)

2. **Phase 1: Spacetime 参数化** (5-7 天)
   - **Day 1-2**: 数据结构设计
   - **Day 3**: SpaceTimeAnalysis 重构
   - **Day 4**: SystolicTransform 重构
   - **Day 5**: SystolicDataflowGeneration 重构
   - **Day 6**: 代码生成更新
   - **Day 7**: 测试和验证
   - 每日具体任务和代码框架

3. **Phase 2: Kernel 通用化** (5-7 天)
   - Kernel 检测框架
   - 访问模式分析
   - 通用空间循环选择
   - 参数化代码生成

4. **Phase 3: 多 Kernel 支持** (3-5 天)
   - MTTKRP 支持
   - CNN 支持

5. **Phase 4: 硬件验证与优化**
   - 验证清单
   - 优化方向

6. **六、技术决策**
   - AutoSA 代码参考策略
   - 配置系统选择
   - 代码生成策略

7. **七、风险和成功指标**

**关键数据**:
- 总工作量: 18-24 天 (不含硬件验证)
- 成功指标: 6 种 ST, 3+ kernel, 代码与 AutoSA 可比

**阅读时间**: 60-90 分钟

---

### 5. [CLEANUP_CHECKLIST.md](CLEANUP_CHECKLIST.md) **文档清理指南**

**读者**: 文档维护者、项目清理执行人

**内容**:
1. **test/ 目录清理**
   - 15 个待删除文件的具体清单
   - 保留的核心文件说明

2. **docs/ 目录整理**
   - 4 个待删除文件
   - write-time-reordering 目录优化
   - spacetime 目录重组方案

3. **新建文档**
   - test/TESTING_GUIDE.md
   - docs/CODE_STRUCTURE.md
   - docs/ARCHITECTURE_OVERVIEW.md

4. **执行顺序**
   - 第一、二、三阶段的具体时间安排

5. **验证清单**
   - 完成后需要检查的项目

**适合人群**: 实施清理工作的人员

**阅读时间**: 15-20 分钟

---

## 📊 文档使用矩阵

| 文档 | 架构师 | 开发者 | PM | 新成员 | 审查人 |
|------|--------|--------|-----|--------|--------|
| 整理工作总结 | ⭐⭐ | ⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 项目组织分析 | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐ |
| 代码问题分析 | ⭐⭐⭐ | ⭐⭐⭐ | ⭐ | ⭐⭐ | ⭐⭐⭐ |
| 技术路线图 | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐ |
| 清理清单 | ⭐ | ⭐⭐ | ⭐⭐ | ⭐⭐ | - |

---

## 🎯 不同角色的推荐阅读路径

### 路径 A: 项目管理者

1. 整理工作总结 (overview)
2. PROJECT_ORGANIZATION_AND_ANALYSIS (规划)
3. NEXT_STEPS_TECHNICAL_ROADMAP (实施)
4. CLEANUP_CHECKLIST (执行计划)

**总时间**: ~2 小时

### 路径 B: 核心开发者

1. 整理工作总结 (overview)
2. CODE_ISSUES_DETAILED_ANALYSIS (问题分析)
3. NEXT_STEPS_TECHNICAL_ROADMAP (技术方案)
4. PROJECT_ORGANIZATION_AND_ANALYSIS (全貌)

**总时间**: ~3 小时

### 路径 C: 新成员

1. 整理工作总结 (概览)
2. PROJECT_ORGANIZATION_AND_ANALYSIS (了解项目)
3. docs/ 中的现有文档
4. CODE_ISSUES_DETAILED_ANALYSIS (深入学习)

**总时间**: ~4 小时

### 路径 D: 代码审查人

1. CODE_ISSUES_DETAILED_ANALYSIS (问题清单)
2. NEXT_STEPS_TECHNICAL_ROADMAP (实施方案)
3. 相关代码片段

**总时间**: ~1.5 小时

---

## 📌 关键部分索引

### 硬编码问题位置

**快速查找**: 见 CODE_ISSUES_DETAILED_ANALYSIS.md 的附录 A.1 表格

**主要位置**:
- SystolicTransform.cpp (~120-200, ~300-400)
- SystolicDataflowGeneration.cpp (~200-250, ~350-400)
- SystolicDataflowToHLS.cpp (~50-100)
- EmitHLSCpp translation (~100-200)

### 工作量估算

**快速查找**: 
- 项目组织分析 → 优先级排序表
- 技术路线图 → 各 Phase 的工作量

**总结**:
- P1 (紧急): 10-15 天
- P2 (重要): 5-10 天
- P3 (优化): 4-6 天

### 成功指标

**快速查找**: 技术路线图 → 第一部分 "成功标准"

**关键指标**:
- ✅ 6 种 spacetime (ST0-ST5)
- ✅ 3+ kernel (MM, MTTKRP, CNN)
- ✅ 代码与 AutoSA 可比

---

## 📚 与现有文档的关系

### 与 docs/ 文档的对应

| 现有文档 | 相关整理文档 | 关系 |
|---------|-----------|------|
| docs/project/PROJECT_STATUS.md | PROJECT_ORGANIZATION_AND_ANALYSIS | 后者更新更详细 |
| docs/spacetime/*.md | CODE_ISSUES_DETAILED_ANALYSIS | 涉及的具体问题 |
| docs/write-time-reordering/*.md | CLEANUP_CHECKLIST | 需要整合 |

### 与现有代码的对应

| 代码文件 | 相关分析文档 | 问题位置 |
|---------|-----------|---------|
| SystolicTransform.cpp | CODE_ISSUES, ROADMAP | 见具体行号 |
| SystolicDataflowGeneration.cpp | CODE_ISSUES, ROADMAP | 见具体行号 |
| SystolicDataflowToHLS.cpp | CODE_ISSUES | 缺陷部分 |
| EmitHLSCpp | ROADMAP | Phase 1 Day 6 |

---

## ✅ 检查清单

### 使用前检查

- [ ] 阅读过《整理工作总结》
- [ ] 理解了 5 大问题和后续规划
- [ ] 根据角色选择了阅读路径
- [ ] 标记了相关的代码问题位置

### 使用中检查

- [ ] 按照推荐的阅读顺序进行
- [ ] 使用矩阵快速定位所需内容
- [ ] 结合现有代码进行对比学习
- [ ] 记录问题和疑问

### 实施前检查

- [ ] 理解了 Phase 1-4 的具体工作
- [ ] 同意了提议的技术方案
- [ ] 准备了开发环境
- [ ] 分配了开发资源

---

## 🔗 快速导航

### 按问题查找

**Q: 如何快速找到某个硬编码问题?**  
A: → CODE_ISSUES_DETAILED_ANALYSIS.md → 附录 A.1

**Q: spacetime 参数化具体怎么做?**  
A: → NEXT_STEPS_TECHNICAL_ROADMAP.md → Phase 1

**Q: 文档怎么删除?**  
A: → CLEANUP_CHECKLIST.md → 第一部分

**Q: 下一步应该做什么?**  
A: → 整理工作总结.md → 后续行动清单

### 按角色查找

**我是 PM**:  
→ 整理工作总结 → 后续行动清单

**我是 Lead Dev**:  
→ CODE_ISSUES_DETAILED_ANALYSIS → NEXT_STEPS_TECHNICAL_ROADMAP

**我是 QA**:  
→ PROJECT_ORGANIZATION_AND_ANALYSIS (测试部分) → CLEANUP_CHECKLIST

**我是新手**:  
→ 整理工作总结 → PROJECT_ORGANIZATION_AND_ANALYSIS

---

## 📞 如何使用这些文档

### 方式 1: 在线阅读

在 VS Code 中直接打开 .md 文件，使用内置的 Markdown 预览。

### 方式 2: 生成 HTML

```bash
# 使用 pandoc 转换为 HTML
pandoc 整理工作总结.md -o summary.html
```

### 方式 3: 打印为 PDF

在 VS Code 中使用 Markdown PDF 扩展。

### 方式 4: 引用关键部分

```markdown
# 任务规划

根据 NEXT_STEPS_TECHNICAL_ROADMAP.md Phase 1 Day 1-2:
- [ ] 定义参数化 SpaceTime 数据结构
- [ ] 更新 SpaceTimeInfo
- [ ] 创建配置管理器
```

---

## 📝 版本历史

| 版本 | 日期 | 内容 | 状态 |
|------|------|------|------|
| 1.0 | 2026-01-06 | 初版, 包含 5 份文档 | ✅ 完成 |

---

## 📌 免责声明

本整理工作是基于对当前代码的静态分析进行的。具体的实施工作可能需要根据实际情况进行调整。

建议在开始实施前:
1. 与项目团队讨论确认
2. 进行小规模的 POC (Proof of Concept)
3. 根据反馈调整计划

---

**文档生成**: 2026-01-06  
**作者**: AI 助手 (GitHub Copilot)  
**审查**: 待项目团队确认

